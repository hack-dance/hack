<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 700" font-family="system-ui, -apple-system, sans-serif">
  <defs>
    <linearGradient id="globalGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3a5f;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#0d1f33;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="projectGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#2d4a3e;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#1a2e25;stop-opacity:1" />
    </linearGradient>
    <linearGradient id="clientGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#4a3d5c;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2d2438;stop-opacity:1" />
    </linearGradient>
    <filter id="shadow" x="-10%" y="-10%" width="120%" height="120%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-opacity="0.3"/>
    </filter>
  </defs>

  <!-- Background -->
  <rect width="900" height="700" fill="#0a0a0a"/>

  <!-- Title -->
  <text x="450" y="35" text-anchor="middle" fill="#ffffff" font-size="24" font-weight="bold">hack-cli Architecture</text>
  <text x="450" y="55" text-anchor="middle" fill="#888888" font-size="12">Local Development Orchestration Platform</text>

  <!-- Global Infrastructure Section -->
  <rect x="30" y="75" width="840" height="195" rx="12" fill="url(#globalGrad)" filter="url(#shadow)"/>
  <text x="50" y="100" fill="#60a5fa" font-size="14" font-weight="bold">GLOBAL INFRASTRUCTURE</text>
  <text x="830" y="100" text-anchor="end" fill="#4b5563" font-size="11">~/.hack/</text>

  <!-- Caddy -->
  <rect x="50" y="115" width="150" height="70" rx="8" fill="#1e40af" opacity="0.8"/>
  <text x="125" y="140" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">Caddy</text>
  <text x="125" y="158" text-anchor="middle" fill="#93c5fd" font-size="10">Reverse Proxy</text>
  <text x="125" y="173" text-anchor="middle" fill="#60a5fa" font-size="9">:80 / :443</text>

  <!-- CoreDNS -->
  <rect x="220" y="115" width="150" height="70" rx="8" fill="#1e40af" opacity="0.8"/>
  <text x="295" y="140" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">CoreDNS</text>
  <text x="295" y="158" text-anchor="middle" fill="#93c5fd" font-size="10">*.hack resolver</text>
  <text x="295" y="173" text-anchor="middle" fill="#60a5fa" font-size="9">Container DNS</text>

  <!-- Logging Stack -->
  <rect x="390" y="115" width="150" height="70" rx="8" fill="#1e40af" opacity="0.8"/>
  <text x="465" y="140" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">Logging</text>
  <text x="465" y="158" text-anchor="middle" fill="#93c5fd" font-size="10">Loki + Alloy + Grafana</text>
  <text x="465" y="173" text-anchor="middle" fill="#60a5fa" font-size="9">logs.hack</text>

  <!-- hackd Daemon -->
  <rect x="560" y="115" width="150" height="140" rx="8" fill="#7c3aed" opacity="0.9"/>
  <text x="635" y="140" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">hackd</text>
  <text x="635" y="158" text-anchor="middle" fill="#c4b5fd" font-size="10">Daemon</text>
  <rect x="575" y="168" width="120" height="20" rx="4" fill="#5b21b6" opacity="0.8"/>
  <text x="635" y="182" text-anchor="middle" fill="#ddd6fe" font-size="9">Runtime Cache</text>
  <rect x="575" y="193" width="120" height="20" rx="4" fill="#5b21b6" opacity="0.8"/>
  <text x="635" y="207" text-anchor="middle" fill="#ddd6fe" font-size="9">Gateway API :7788</text>
  <rect x="575" y="218" width="120" height="20" rx="4" fill="#5b21b6" opacity="0.8"/>
  <text x="635" y="232" text-anchor="middle" fill="#ddd6fe" font-size="9">Supervisor + PTY</text>

  <!-- Docker -->
  <rect x="730" y="115" width="120" height="70" rx="8" fill="#0891b2" opacity="0.8"/>
  <text x="790" y="140" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">Docker</text>
  <text x="790" y="158" text-anchor="middle" fill="#a5f3fc" font-size="10">Container Runtime</text>
  <text x="790" y="173" text-anchor="middle" fill="#67e8f9" font-size="9">Networks + Events</text>

  <!-- Per-Project Section -->
  <rect x="30" y="285" width="840" height="165" rx="12" fill="url(#projectGrad)" filter="url(#shadow)"/>
  <text x="50" y="310" fill="#4ade80" font-size="14" font-weight="bold">PER-PROJECT</text>
  <text x="830" y="310" text-anchor="end" fill="#4b5563" font-size="11">.hack/</text>

  <!-- Project A -->
  <rect x="50" y="325" width="180" height="110" rx="8" fill="#166534" opacity="0.8"/>
  <text x="140" y="350" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">Project A</text>
  <text x="140" y="368" text-anchor="middle" fill="#86efac" font-size="10">https://project-a.hack</text>
  <rect x="65" y="380" width="150" height="18" rx="4" fill="#14532d"/>
  <text x="140" y="393" text-anchor="middle" fill="#bbf7d0" font-size="9">docker-compose.yml</text>
  <rect x="65" y="402" width="150" height="18" rx="4" fill="#14532d"/>
  <text x="140" y="415" text-anchor="middle" fill="#bbf7d0" font-size="9">hack.config.json</text>

  <!-- Project B -->
  <rect x="250" y="325" width="180" height="110" rx="8" fill="#166534" opacity="0.8"/>
  <text x="340" y="350" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">Project B</text>
  <text x="340" y="368" text-anchor="middle" fill="#86efac" font-size="10">https://project-b.hack</text>
  <rect x="265" y="380" width="150" height="18" rx="4" fill="#14532d"/>
  <text x="340" y="393" text-anchor="middle" fill="#bbf7d0" font-size="9">docker-compose.yml</text>
  <rect x="265" y="402" width="150" height="18" rx="4" fill="#14532d"/>
  <text x="340" y="415" text-anchor="middle" fill="#bbf7d0" font-size="9">hack.config.json</text>

  <!-- Extensions -->
  <rect x="450" y="325" width="200" height="110" rx="8" fill="#854d0e" opacity="0.8"/>
  <text x="550" y="350" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">Extensions</text>
  <rect x="465" y="365" width="80" height="22" rx="4" fill="#713f12"/>
  <text x="505" y="380" text-anchor="middle" fill="#fef08a" font-size="9">Tickets</text>
  <rect x="555" y="365" width="80" height="22" rx="4" fill="#713f12"/>
  <text x="595" y="380" text-anchor="middle" fill="#fef08a" font-size="9">Gateway</text>
  <rect x="465" y="395" width="80" height="22" rx="4" fill="#713f12"/>
  <text x="505" y="410" text-anchor="middle" fill="#fef08a" font-size="9">Supervisor</text>
  <rect x="555" y="395" width="80" height="22" rx="4" fill="#713f12"/>
  <text x="595" y="410" text-anchor="middle" fill="#fef08a" font-size="9">Cloudflare</text>

  <!-- Network Isolation -->
  <rect x="670" y="325" width="180" height="110" rx="8" fill="#0f766e" opacity="0.8"/>
  <text x="760" y="350" text-anchor="middle" fill="#ffffff" font-size="12" font-weight="bold">Network Isolation</text>
  <text x="760" y="370" text-anchor="middle" fill="#99f6e4" font-size="10">Each project gets</text>
  <text x="760" y="385" text-anchor="middle" fill="#99f6e4" font-size="10">its own Docker network</text>
  <text x="760" y="405" text-anchor="middle" fill="#5eead4" font-size="9">No port conflicts</text>
  <text x="760" y="420" text-anchor="middle" fill="#5eead4" font-size="9">Services use default ports</text>

  <!-- Clients Section -->
  <rect x="30" y="465" width="840" height="130" rx="12" fill="url(#clientGrad)" filter="url(#shadow)"/>
  <text x="50" y="490" fill="#c084fc" font-size="14" font-weight="bold">CLIENTS</text>

  <!-- CLI -->
  <rect x="50" y="505" width="150" height="75" rx="8" fill="#6b21a8" opacity="0.8"/>
  <text x="125" y="530" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">CLI</text>
  <text x="125" y="548" text-anchor="middle" fill="#d8b4fe" font-size="10">hack up/down/logs</text>
  <text x="125" y="566" text-anchor="middle" fill="#a855f7" font-size="9">hack x tickets/gateway</text>

  <!-- macOS App -->
  <rect x="220" y="505" width="180" height="75" rx="8" fill="#6b21a8" opacity="0.8"/>
  <text x="310" y="530" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">macOS Desktop</text>
  <text x="310" y="548" text-anchor="middle" fill="#d8b4fe" font-size="10">SwiftUI + Ghostty VT</text>
  <text x="310" y="566" text-anchor="middle" fill="#a855f7" font-size="9">Menu Bar + Terminal</text>

  <!-- Remote -->
  <rect x="420" y="505" width="150" height="75" rx="8" fill="#6b21a8" opacity="0.8"/>
  <text x="495" y="530" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">Remote</text>
  <text x="495" y="548" text-anchor="middle" fill="#d8b4fe" font-size="10">Gateway API + Tokens</text>
  <text x="495" y="566" text-anchor="middle" fill="#a855f7" font-size="9">HTTP/WS</text>

  <!-- AI Agents -->
  <rect x="590" y="505" width="150" height="75" rx="8" fill="#6b21a8" opacity="0.8"/>
  <text x="665" y="530" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">AI Agents</text>
  <text x="665" y="548" text-anchor="middle" fill="#d8b4fe" font-size="10">Claude / Cursor / Codex</text>
  <text x="665" y="566" text-anchor="middle" fill="#a855f7" font-size="9">MCP + Skills</text>

  <!-- Tunnels -->
  <rect x="760" y="505" width="100" height="75" rx="8" fill="#6b21a8" opacity="0.8"/>
  <text x="810" y="530" text-anchor="middle" fill="#ffffff" font-size="13" font-weight="bold">Tunnels</text>
  <text x="810" y="548" text-anchor="middle" fill="#d8b4fe" font-size="10">Cloudflare</text>
  <text x="810" y="566" text-anchor="middle" fill="#a855f7" font-size="9">Tailscale</text>

  <!-- Connection Lines -->
  <!-- Caddy to Projects -->
  <path d="M125 185 L125 220 L140 325" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4,2"/>
  <path d="M125 220 L340 325" stroke="#3b82f6" stroke-width="2" fill="none" stroke-dasharray="4,2"/>

  <!-- hackd to Projects -->
  <path d="M635 255 L635 285 L550 325" stroke="#8b5cf6" stroke-width="2" fill="none"/>

  <!-- Docker to Projects -->
  <path d="M790 185 L790 220 L760 325" stroke="#06b6d4" stroke-width="2" fill="none"/>

  <!-- Clients to hackd -->
  <path d="M310 505 L310 465 L560 255" stroke="#a855f7" stroke-width="2" fill="none" stroke-dasharray="4,2"/>
  <path d="M495 505 L495 465 L635 255" stroke="#a855f7" stroke-width="2" fill="none"/>

  <!-- Legend -->
  <rect x="30" y="610" width="840" height="75" rx="8" fill="#1f1f1f"/>
  <text x="50" y="635" fill="#888888" font-size="12" font-weight="bold">KEY FLOWS</text>

  <line x1="50" y1="655" x2="80" y2="655" stroke="#3b82f6" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="90" y="659" fill="#9ca3af" font-size="10">HTTP routing (*.hack â†’ project)</text>

  <line x1="280" y1="655" x2="310" y2="655" stroke="#8b5cf6" stroke-width="2"/>
  <text x="320" y="659" fill="#9ca3af" font-size="10">Daemon control plane</text>

  <line x1="500" y1="655" x2="530" y2="655" stroke="#06b6d4" stroke-width="2"/>
  <text x="540" y="659" fill="#9ca3af" font-size="10">Container management</text>

  <line x1="700" y1="655" x2="730" y2="655" stroke="#a855f7" stroke-width="2" stroke-dasharray="4,2"/>
  <text x="740" y="659" fill="#9ca3af" font-size="10">Client connections</text>
</svg>